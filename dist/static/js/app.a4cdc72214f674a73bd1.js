webpackJsonp([0],[,function(t,e,i){function s(t){i(10)}var n=i(0)(i(7),i(14),s,null,null);t.exports=n.exports},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n=i(1),r=i.n(n);s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:r.a}})},function(t,e,i){"use strict";function s(){function t(t,e){return t.getF()<=e.getF()}this.size=0,this.arr=[0],this.empty=function(){return 0===this.size},this.push=function(e){for(var i=++this.size;1!==i&&!t(this.arr[Math.floor(i/2)],e);i=Math.floor(i/2))this.arr[i]=this.arr[Math.floor(i/2)];this.arr[i]=e},this.top=function(){return this.empty()?"BinaryHeap.top(): heap is empty":this.arr[1]},this.pop=function(){if(this.empty())return"BinaryHeap.pop(): heap is empty";var e,i,s=this.arr[this.size--];for(e=1;2*e<=this.size&&(i=2*e,i!==this.size&&t(this.arr[i+1],this.arr[i])&&++i,!t(s,this.arr[i]));e=i)this.arr[e]=this.arr[i];this.arr[e]=s}}e.a=s},function(t,e,i){"use strict";function s(t,e,i,s){this.states=new n.a,this.path=[],this.src=new r.a(t.slice(),1,e,s),this.hasSearched=[],this.searchedCnt=0,this.des=new r.a(i)}var n=i(4),r=i(6);s.prototype.run=function(){for(this.states.push(this.src);!this.states.empty();){var t=null;do{t=this.states.top(),this.states.pop()}while(!this.states.empty()&&this.hasSearched[t.items.toString()]);if(this.states.empty()&&this.hasSearched[t.items.toString()])return;if(++this.searchedCnt,this.hasSearched[t.items.toString()]=!0,t.equal(this.des))return this.constructPath(t),void this.path.shift();var e,i=Math.floor(t.empty/t.level),s=t.empty%t.level,n=t.empty;i-1>=0&&(e=t.moveToEmpty(n-t.level),this.hasSearched[e.items.toString()]||(e.preDirec="up",this.states.push(e))),s-1>=0&&(e=t.moveToEmpty(n-1),this.hasSearched[e.items.toString()]||(e.preDirec="left",this.states.push(e))),s+1<t.level&&(e=t.moveToEmpty(n+1),this.hasSearched[e.items.toString()]||(e.preDirec="right",this.states.push(e))),i+1<t.level&&(e=t.moveToEmpty(n+t.level),this.hasSearched[e.items.toString()]||(e.preDirec="down",this.states.push(e)))}},s.prototype.constructPath=function(t){t.parent&&this.constructPath(t.parent),this.path.push(t.preDirec)},e.a=s},function(t,e,i){"use strict";function s(t,e,i,s){this.items=t,this.deepth=e,this.level=i,this.empty=s,this.preDirec=null}s.prototype.moveToEmpty=function(t){var e=new s(this.items.slice(),this.deepth+1,this.level,this.empty),i=e.items[this.empty];return e.items[this.empty]=e.items[t],e.items[t]=i,e.empty=t,e.parent=this,e},s.prototype.equal=function(t){return this.items.toString()===t.items.toString()},s.prototype.getF=function(){for(var t=this.items,e=0,i=0,s=0,n=0,r=t.length;n<r;n++){var h=Math.floor(n/this.level),l=n%this.level,o=Math.floor(t[n]/this.level),a=t[n]%this.level,c=Math.abs(h-o),p=Math.abs(l-a);e+=c+p,i+=Math.sqrt(c*c+p*p),s=t[n]+1!==t[n+1]?s+1:s}return 5*(3*e+2*i+1*s)+1*this.deepth},e.a=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(12),n=i.n(s);e.default={name:"app",components:{Puzzle:n.a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(5);e.default={name:"puzzle",data:function(){return{level:4,destion:[],current:[],emptyIndex:-1,pic:i(11),interval:"",solution:{path:0},block:{width:0,cell:0}}},watch:{level:function(t,e){this.init(),this.emptyIndex=-1,this.updateView()},pic:function(t,e){this.updateView()}},created:function(){this.init(),this.emptyIndex=-1},mounted:function(){this.updateView()},methods:{init:function(){this.destion=[],this.current=[];for(var t=0;t<this.level*this.level;t++)this.destion.push(t),this.current.push(t)},updateView:function(){var t=document.getElementsByTagName("main")[0];t.innerHTML="";var e=document.createDocumentFragment(),i=.95*t.offsetWidth/this.level,s=.05*t.offsetWidth/(this.level-1);this.block.width=i,this.block.cell=s;for(var n=0;n<this.current.length;n++)if(n!==this.emptyIndex){var r=Math.floor(n/this.level),h=n%this.level,l=document.createElement("p");l.setAttribute("class","block"),l.setAttribute("id","block-"+r+"-"+h),l.style.width=i+"px",l.style.height=i+"px",l.style.backgroundImage="url("+this.pic+")",l.style.top=r*(i+s)+"px",l.style.left=h*(i+s)+"px",l.style.backgroundPositionX=-i*(this.current[n]%this.level)+"px",l.style.backgroundPositionY=-i*Math.floor(this.current[n]/this.level)+"px",l.style.backgroundSize=100*this.level+"%",e.appendChild(l)}t.appendChild(e)},move:function(t){var e,i,s=Math.floor(this.emptyIndex/this.level),n=this.emptyIndex%this.level;if("up"===t&&s-1>=0?(e=document.getElementById("block-"+(s-1)+"-"+n),i=this.emptyIndex-this.level,e.style.top=(this.block.width+this.block.cell)*s+"px"):"down"===t&&s+1<this.level?(e=document.getElementById("block-"+(s+1)+"-"+n),i=this.emptyIndex+this.level,e.style.top=(this.block.width+this.block.cell)*s+"px"):"left"===t&&n-1>=0?(e=document.getElementById("block-"+s+"-"+(n-1)),i=this.emptyIndex-1,e.style.left=(this.block.width+this.block.cell)*n+"px"):"right"===t&&n+1<this.level&&(e=document.getElementById("block-"+s+"-"+(n+1)),i=this.emptyIndex+1,e.style.left=(this.block.width+this.block.cell)*n+"px"),!i&&0!==i)return!1;var r=this.current[i];this.current[i]=this.current[this.emptyIndex],this.current[this.emptyIndex]=r,this.emptyIndex=i;var h=this;setTimeout(function(){h.updateView()},200)},getDirection:function(t){var e=Math.floor(t/this.level)-Math.floor(this.emptyIndex/this.level),i=t%this.level-this.emptyIndex%this.level;return Math.abs(i)+Math.abs(e)===1&&(i<0?"left":i>0?"right":e<0?"up":"down")},messUpItems:function(){this.init();for(var t=0;t<this.level*this.level*10;t++){var e,i=Math.random(),s=!1;i<=.25&&this.canMove("up")?(e=this.current[this.emptyIndex-this.level],this.current[this.emptyIndex-this.level]=this.current[this.emptyIndex],this.current[this.emptyIndex]=e,this.emptyIndex-=this.level,s=!0):i<=.5&&this.canMove("down")?(e=this.current[this.emptyIndex+this.level],this.current[this.emptyIndex+this.level]=this.current[this.emptyIndex],this.current[this.emptyIndex]=e,this.emptyIndex+=this.level,s=!0):i<=.75&&this.canMove("left")?(e=this.current[this.emptyIndex-1],this.current[this.emptyIndex-1]=this.current[this.emptyIndex],this.current[this.emptyIndex]=e,this.emptyIndex--,s=!0):this.canMove("right")&&(e=this.current[this.emptyIndex+1],this.current[this.emptyIndex+1]=this.current[this.emptyIndex],this.current[this.emptyIndex]=e,this.emptyIndex++,s=!0),s||t--}this.updateView()},canMove:function(t){var e=Math.floor(this.emptyIndex/this.level),i=this.emptyIndex%this.level;switch(t){case"up":return e-1>=0;case"down":return e+1<this.level;case"left":return i-1>=0;case"right":return i+1<this.level}return!1},complete:function(){this.solution=new s.a(this.current,this.level,this.destion,this.emptyIndex),this.solution.run(),console.log(this.solution.path.length),this.startMove()},startMove:function(){if(this.solution.path.length>0){var t=this.solution.path.shift();this.move(t),this.interval=setTimeout(this.startMove,300)}else this.emptyIndex=-1,this.interval=setTimeout(this.updateView,300)},pickEmpty:function(t){this.emptyIndex=Number(t)},clickHandle:function(t){if("p"===t.target.tagName.toLowerCase()){var e=t.target,i=e.id.split("-"),s=Number(i[1])*this.level+Number(i[2]);if(-1===this.emptyIndex)this.pickEmpty(s),this.updateView();else{var n=this.getDirection(s);n&&this.move(n)}}},imgChange:function(t){var e=t.target.files[0];e&&(URL.revokeObjectURL(this.pic),this.pic=URL.createObjectURL(e))},selectPic:function(){document.querySelector("input[type='file']").click()}}}},function(t,e){},function(t,e){},function(t,e,i){t.exports=i.p+"static/img/1.28f5ba0.jpg"},function(t,e,i){function s(t){i(9)}var n=i(0)(i(8),i(13),s,null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",[t._v("拼图游戏")]),t._v(" "),i("table",[i("tr",[i("td",{staticClass:"result"},[i("img",{attrs:{src:t.pic,alt:"最终效果"}})]),t._v(" "),t._m(0)])]),t._v(" "),i("main",{on:{click:t.clickHandle}}),t._v(" "),i("div",{staticClass:"controls"},[i("label",{attrs:{for:"level"}},[t._v("难度等级\n      "),i("select",{directives:[{name:"model",rawName:"v-model.number",value:t.level,expression:"level",modifiers:{number:!0}}],attrs:{name:"level",id:"level"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var i="_value"in e?e._value:e.value;return t._n(i)});t.level=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"3"}},[t._v("简单")]),t._v(" "),i("option",{attrs:{value:"4"}},[t._v("适中")]),t._v(" "),i("option",{attrs:{value:"5"}},[t._v("困难")])])]),t._v(" "),i("br"),i("br"),t._v(" "),i("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.imgChange}}),t._v(" "),i("button",{on:{click:t.selectPic}},[t._v("选择图片")]),t._v(" "),i("button",{attrs:{disabled:-1===t.emptyIndex},on:{click:t.messUpItems}},[t._v("打乱")]),t._v(" "),i("button",{attrs:{disabled:-1===t.emptyIndex},on:{click:t.complete}},[t._v("自动还原 "+t._s(t.solution.path.length>0?"("+t.solution.path.length+")":""))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"info"},[t._v("规则：先选中一个块作为空白块，然后打乱，移动空白块周围的区域将被打乱的块还原\n      "),i("br"),t._v("\n      自动：自动将打乱的块还原")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Puzzle")],1)},staticRenderFns:[]}}],[3]);
//# sourceMappingURL=app.a4cdc72214f674a73bd1.js.map